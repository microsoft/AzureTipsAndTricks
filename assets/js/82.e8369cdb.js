(window.webpackJsonp=window.webpackJsonp||[]).push([[82],{442:function(e,t,s){"use strict";s.r(t);var r=s(43),n=Object(r.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h3",{attrs:{id:"use-powershell-within-azure-cloud-shell"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#use-powershell-within-azure-cloud-shell"}},[e._v("#")]),e._v(" Use PowerShell within Azure Cloud Shell")]),e._v(" "),s("img",{attrs:{src:e.$withBase("/files/bashscreenshot.png")}}),e._v(" "),s("p",[s("strong",[e._v("PowerShell")]),e._v(" is the other command language that the Azure Cloud Shell supports. I've recently "),s("a",{attrs:{href:"https://aka.ms/PSCloudSignup?WT.mc_id=akams-azuredevtips-azureappsdev",target:"_blank",rel:"noopener noreferrer"}},[e._v("signed up for a preview"),s("OutboundLink")],1),e._v(" and thought I'd share.")]),e._v(" "),s("p",[e._v("You can switch to PowerShell by clicking the dropdown and selecting PowerShell.")]),e._v(" "),s("img",{attrs:{src:e.$withBase("/files/switchtops.png")}}),e._v(" "),s("p",[e._v("This will prompt you to Restart Cloud Shell with PowerShell which will log you out of your current instance and stop any running processes.")]),e._v(" "),s("img",{attrs:{src:e.$withBase("/files/restartwithps.png")}}),e._v(" "),s("p",[e._v("On first launch, it'll authenticate with Azure (just like BASH does) and build your Azure drive. You now have access to all your accounts. You can run the "),s("code",[e._v("dir")]),e._v(" command and see your subscriptions vs with BASH it would list out the physical files on the currently mounted drive.")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[e._v("PS Azure:\\> dir\n\n    Directory: Azure:\n\nMode SubscriptionName                     SubscriptionId                       TenantId                             State\n---- ----------------                     --------------                       --------                             -----\n+    Demo - Azure Monitoring\t\t\t\txxx-xxx-xxx-xxx\t\t\t\t\t\txxx-xxx-xxx-xxx \t\t\t\t\tEnabled\n")])])]),s("p",[e._v('Now that I have access to my subscriptions, I can traverse the "Demo - Azure Monitor" subscription by typing '),s("code",[e._v("cd '.\\Demo - Azure Monitoring\\'")]),e._v(".")]),e._v(" "),s("p",[e._v("If I run a "),s("code",[e._v("dir")]),e._v(" again, then I'd see what is included in that account. Here I see Resource Groups, Storage Accounts, VMs and Web Apps.")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[e._v("Directory: Azure:\\Demo - Azure Monitoring\n\n\nMode Name\n---- ----\n+    AllResources\n+    ResourceGroups\n+    StorageAccounts\n+    VirtualMachines\n+    WebApps\n")])])]),s("p",[e._v("I can continue traversing this subscription by typing "),s("code",[e._v("cd VirtualMachines")]),e._v(" then typing "),s("code",[e._v("dir")]),e._v(".")]),e._v(" "),s("p",[e._v("Directory: Azure:\\Demo - Azure Monitoring\\VirtualMachines")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[e._v("Name                  ResourceGroupName      Location          VmSize  OsType                       NIC ProvisioningState PowerState\n----                  -----------------      --------          ------  ------                       --- ----------------- ----------\nk8s-a   APPROVAL        eastus  Standard_D2_v2   Linux  -nic-0         Succeeded    running\n")])])]),s("p",[e._v("As you can tell, I can easily discover and navigate Azure resources now by using Powershell.")]),e._v(" "),s("p",[e._v("The other nice thing that I've seen while playing with PowerShell is the ability to run modules such as the ones found in Microsoft.PowerShell. For instance we can use "),s("code",[e._v("Get-Date")]),e._v(" as described "),s("a",{attrs:{href:"https://docs.microsoft.com/powershell/module/microsoft.powershell.utility/get-date?view=powershell-5.1?WT.mc_id=docs-azuredevtips-azureappsdev",target:"_blank",rel:"noopener noreferrer"}},[e._v("here"),s("OutboundLink")],1),e._v(" inside of Cloud Shell.")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[e._v("PS Azure:\\> Get-Date\n\nMonday, September 18, 2017 11:02:49 PM\n")])])])])}),[],!1,null,null,null);t.default=n.exports}}]);