(window.webpackJsonp=window.webpackJsonp||[]).push([[173],{456:function(e,t,r){"use strict";r.r(t);var a=r(43),s=Object(a.a)({},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("div",{staticClass:"tip custom-block"},[r("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),r("p",[e._v("ðŸ’¡ Learn more :  "),r("a",{attrs:{href:"https://docs.microsoft.com/en-us/azure/sql-database/sql-database-networkaccess-overview/?WT.mc_id=docs-azuredevtips-micrum",target:"_blank",rel:"noopener noreferrer"}},[e._v("Securing your SQL Server Database"),r("OutboundLink")],1)]),e._v(" "),r("p",[e._v("This article was brought to you by "),r("a",{attrs:{href:"https://twitter.com/kumarallamraju",target:"_blank",rel:"noopener noreferrer"}},[e._v("@kumarallamraju"),r("OutboundLink")],1)])]),e._v(" "),r("h2",{attrs:{id:"intro"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#intro","aria-hidden":"true"}},[e._v("#")]),e._v(" Intro")]),e._v(" "),r("p",[e._v("Microsoft Azure provides support for a wide variety of commercial (SQL Database and SQL Managed Instance) and open source databases (MySQL, PostgreSQL, MariaDB). When it comes to protecting your data, Azure provides different security layers. Let's discuss those options below")]),e._v(" "),r("h2",{attrs:{id:"_1-server-firewall"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_1-server-firewall","aria-hidden":"true"}},[e._v("#")]),e._v(" 1. Server Firewall")]),e._v(" "),r("p",[e._v("By default Azure Databases are provisioned with a public endpoint e.g. kasqlserver.database.windows.net")]),e._v(" "),r("p",[e._v('Although it\'s a public endpoint and discoverable by default the access is denied. You can set a "DB server firewall" rule to allow client IPs to communicate with the database server.')]),e._v(" "),r("img",{attrs:{src:e.$withBase("/files/securedb-file1.jpg")}}),e._v(" "),r("p",[e._v("As you notice above, I'm allowing the traffic from my home IP address.")]),e._v(" "),r("h2",{attrs:{id:"_2-integration-with-virtual-networks"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_2-integration-with-virtual-networks","aria-hidden":"true"}},[e._v("#")]),e._v(" 2. Integration with Virtual Networks")]),e._v(" "),r("p",[e._v("The second option is to connect to the Database server from your VNets. This can be done by going to Security >> Firewalls and Virtual Networks section in Azure Portal.")]),e._v(" "),r("img",{attrs:{src:e.$withBase("/files/securedb-file2.jpg")}}),e._v(" "),r("p",[e._v("You can spin up an Azure VM in a VNet, install the SQL Server Management Studio (for SQL Server) and add this VNet as mentioned in the above screenshot. Although you are still connecting to a public endpoint, the traffic stays within Azure backbone.")]),e._v(" "),r("h2",{attrs:{id:"_3-private-endpoint-in-public-preview"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_3-private-endpoint-in-public-preview","aria-hidden":"true"}},[e._v("#")]),e._v(" 3. Private Endpoint (in public preview)")]),e._v(" "),r("p",[e._v('You can use Azure Private Link to access Azure PaaS Services (for example, Azure Storage, Azure Cosmos DB, and SQL Database) and Azure hosted customer/partner services over a Private Endpoint in your virtual network. Traffic between your virtual network and the service traverses over the Microsoft backbone network, eliminating exposure from the public Internet. As an example you will be connecting to your database server on a private endpoint e.g. "kasqlserver.privatelink.database.windows.net"')]),e._v(" "),r("img",{attrs:{src:e.$withBase("/files/securedb-file3.jpg")}}),e._v(" "),r("p",[e._v("You can refer to this "),r("a",{attrs:{href:"https://docs.microsoft.com/en-us/azure/private-link/create-private-endpoint-cli",target:"_blank",rel:"noopener noreferrer"}},[e._v("link"),r("OutboundLink")],1),e._v(" to provision a Private Endpoint to your SQL Database.")]),e._v(" "),r("p",[e._v("We have seen a great response from customers who tried Azure Private Link and are actively using for dev/staging databases. Once the feature goes to General Availability (GA), we anticipate the customers will adopt this feature for production databases as well.")]),e._v(" "),r("h2",{attrs:{id:"_4-sql-managed-instance"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_4-sql-managed-instance","aria-hidden":"true"}},[e._v("#")]),e._v(" 4. SQL Managed Instance")]),e._v(" "),r("p",[e._v("As part of the provisioning process, SQL MI will be created in your VNet so it will have a private IP address. You can connect to the private endpoint from your on-premises via VPN/Express Route or from an Azure VM provisioned in the same VNet.")]),e._v(" "),r("h2",{attrs:{id:"conclusion"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#conclusion","aria-hidden":"true"}},[e._v("#")]),e._v(" Conclusion")]),e._v(" "),r("p",[e._v("As the platform evolves, we continue to add more security features to protect your data in the public cloud. This is the just the beginning and I anticipate we continue to add more features in the months to come. I highly recommend you to consider the above options to secure your databases and as always pls provide your valuable feedback.")]),e._v(" "),r("h2",{attrs:{id:"references"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#references","aria-hidden":"true"}},[e._v("#")]),e._v(" References")]),e._v(" "),r("ul",[r("li",[r("p",[r("a",{attrs:{href:"https://docs.microsoft.com/en-us/azure/sql-database/sql-database-firewall-configure?WT.mc_id=docs-azuredevtips-micrum",target:"_blank",rel:"noopener noreferrer"}},[e._v("SQL Database firewall rules"),r("OutboundLink")],1)])]),e._v(" "),r("li",[r("p",[r("a",{attrs:{href:"https://docs.microsoft.com/en-us/azure/sql-database/sql-database-vnet-service-endpoint-rule-overview/?WT.mc_id=docs-azuredevtips-micrum",target:"_blank",rel:"noopener noreferrer"}},[e._v("Virtual Network service endpoints"),r("OutboundLink")],1)])]),e._v(" "),r("li",[r("p",[r("a",{attrs:{href:"https://docs.microsoft.com/en-us/azure/private-link/private-link-overview?WT.mc_id=docs-azuredevtips-micrum",target:"_blank",rel:"noopener noreferrer"}},[e._v("Azure Private Link"),r("OutboundLink")],1)])]),e._v(" "),r("li",[r("p",[r("a",{attrs:{href:"https://docs.microsoft.com/en-us/azure/sql-database/sql-database-private-endpoint-overview/?WT.mc_id=docs-azuredevtips-micrum",target:"_blank",rel:"noopener noreferrer"}},[e._v("Private Link for Azure SQL Database"),r("OutboundLink")],1)])])])])},[],!1,null,null,null);t.default=s.exports}}]);